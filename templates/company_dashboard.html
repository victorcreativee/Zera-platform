{% extends 'base.html' %}

{% block content %}
<div class="company-dashboard-container">
  <h2 class="dashboard-title">🏢 Welcome, {{ company.name.upper() }}</h2>

  <div class="dashboard-actions">
    <a href="{{ url_for('company.add_product') }}" class="btn-primary">➕ Add New Product</a>
  </div>

  <h3 class="section-heading">📦 Your Products:</h3>
  {% if company.products %}
    <div class="product-grid">
      {% for product in company.products %}
      <div class="product-card">
        <h4 class="product-name">{{ product.name }}</h4>
        <p class="product-description">{{ product.description }}</p>

        <div class="product-actions">
          <a href="{{ url_for('company.edit_product', product_id=product.id) }}" class="btn-secondary">✏️ Edit</a>
          <a href="{{ url_for('company.delete_product', product_id=product.id) }}" class="btn-danger">🗑️ Delete</a>
        </div>

        <div class="review-section">
          <h5>📝 Reviews:</h5>
          {% if product.reviews %}
            <ul class="review-list">
              {% for review in product.reviews %}
                <li>
                  <strong>{{ review.author.username }}</strong>: {{ review.content }}
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="no-reviews">No reviews yet for this product.</p>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="empty-message">You haven’t added any products yet.</p>
  {% endif %}
</div>
{% endblock %}
